{"version":3,"sources":["ttlock.coffee"],"names":[],"mappings":"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","file":"ttlock.js","sourceRoot":"../src/browser","sourcesContent":["ttlockName = 'TTLockPlugin'\n\nexec = (method, params) ->\n  new Promise (resolve, reject) -> cordova.exec(resolve, reject, ttlockName, method, params)\n\nLock = {\n  # Universal\n  startScan: (resolve, reject) -> cordova.exec(resolve, reject, ttlockName, 'lock_startScan', [])\n  stopScan: -> exec 'lock_stopScan', []\n  init: (lockMac, lockName, lockVersion) -> exec 'lock_init', [lockMac, lockName, lockVersion]\n  reset: (lockData, lockMac) -> exec 'lock_reset', [lockData, lockMac]\n  control: (controlAction, lockData, lockMac) -> exec 'lock_control', [controlAction, lockData, lockMac]\n  getTime: (lockData, lockMac) -> exec 'lock_getTime', [lockData, lockMac]\n  setTime: (lockData, lockMac, time) -> exec 'lock_getTime', [lockData, lockMac, time]\n\n  # Android\n  isBLEEnabled: -> exec 'lock_isBLEEnabled', []\n  requestBleEnable: -> exec 'lock_requestBleEnable', []\n  prepareBTService: -> exec 'lock_prepareBTService', []\n  stopBTService: -> exec 'lock_stopBTService', []\n  \n  getRemoteUnlockSwitchState: (lockData, lockMac) -> exec 'lock_getRemoteUnlockSwitchState', [lockData, lockMac]\n  setRemoteUnlockSwitchState: (lockData, lockMac) -> exec 'lock_setRemoteUnlockSwitchState', [lockData, lockMac, enabled]\n\n  # IOS\n  setupBluetooth: -> exec 'lock_setupBluetooth', []\n}\n\nGateway = {\n  isBLEEnabled: -> exec 'gateway_isBLEEnabled', []\n  requestBleEnable: -> exec 'gateway_requestBleEnable', []\n  prepareBTService: -> exec 'gateway_prepareBTService', []\n  stopBTService: -> exec 'gateway_stopBTService', []\n\n  startScan: (resolve, reject) -> cordova.exec(resolve, reject, ttlockName, 'gateway_startScan', [])\n  stopScan: -> exec 'gateway_stopScan', []\n  connect: (gatewayMac) -> exec 'gateway_connect', [gatewayMac]\n  disconnect: (gatewayMac) -> exec 'gateway_disconnect', [gatewayMac]\n  init: (gatewayMac, uid, userPwd, ssid, wifiPwd) -> exec 'gateway_init', [gatewayMac, uid, userPwd, ssid, wifiPwd]\n  scanWiFi: (gatewayMac, resolve, reject) -> cordova.exec(resolve, reject, ttlockName, 'gateway_scanWiFi', [gatewayMac])\n  upgrade: (gatewayMac) -> exec 'gateway_upgrade', [gatewayMac]\n}\n\nTTLock = {\n  Lock\n  Gateway\n}\n\nTTLock.ControlAction = {\n  Unlock: 3\n  Lock: 6\n}\n\nTTLock.BluetoothState = {\n  Unknown: 0\n  Resetting: 1\n  Unsupported: 2\n  Unauthorized: 3\n  PoweredOff: 4\n  PoweredOn: 5\n}\n\nmodule.exports = TTLock\n"]}